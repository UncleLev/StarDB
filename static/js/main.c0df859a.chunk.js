(this["webpackJsonpstar-db"]=this["webpackJsonpstar-db"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){},,,,,,,,,function(e,t,a){e.exports=a(45)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),s=a.n(l),c=(a(29),a(30),a(3)),i=a(4),o=a(7),u=a(6),m=a(8),p=(a(31),a(11)),d=a(12),f=(a(32),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"header container"},r.a.createElement("nav",{className:"nav"},r.a.createElement(p.b,{to:"/",className:"logo"},"Star DB"),r.a.createElement("ul",{className:" nav-list text-success"},r.a.createElement("li",{className:"nav-item nav-item"},r.a.createElement(p.b,{to:"/people"},"People")),r.a.createElement("li",{className:"nav-item nav-item"},r.a.createElement(p.b,{to:"/planets"},"Planets")),r.a.createElement("li",{className:"nav-item nav-item"},r.a.createElement(p.b,{to:"/starships"},"Starships")))))}}]),t}(n.Component)),h=(a(38),a(2)),g=a.n(h),E=function(){function e(){var t=this;Object(c.a)(this,e),this._apiBase="https://swapi.co/api",this._imgBase="http://starwars-visualguide.com/assets/img",this.getAllPeople=function(){var e;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.a.awrap(t.getResourse("/people/"));case 2:return e=a.sent,a.abrupt("return",e.results.map(t._transformPerson));case 4:case"end":return a.stop()}}))},this.getPerson=function(e){var a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.awrap(t.getResourse("/people/".concat(e,"/")));case 2:return a=n.sent,n.abrupt("return",t._transformPerson(a));case 4:case"end":return n.stop()}}))},this.getAllPlanets=function(){var e;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.a.awrap(t.getResourse("/planets/"));case 2:return e=a.sent,a.abrupt("return",e.results.map(t._transformPlanet));case 4:case"end":return a.stop()}}))},this.getPlanet=function(e){var a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.awrap(t.getResourse("/planets/".concat(e,"/")));case 2:return a=n.sent,n.abrupt("return",t._transformPlanet(a));case 4:case"end":return n.stop()}}))},this.getAllStarShips=function(){var e;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.a.awrap(t.getResourse("/starships/"));case 2:return e=a.sent,a.abrupt("return",e.results.map(t._transformStarsship));case 4:case"end":return a.stop()}}))},this.getStarShip=function(e){var a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.awrap(t.getResourse("/starships/".concat(e,"/")));case 2:return a=n.sent,n.abrupt("return",t._transformStarsship(a));case 4:case"end":return n.stop()}}))},this.getPersonImg=function(e){var a=e.id;return"".concat(t._imgBase,"/characters/").concat(a,".jpg")},this.getStarShipImg=function(e){var a=e.id;return"".concat(t._imgBase,"/starships/").concat(a,".jpg")},this.getPlanetImg=function(e){var a=e.id;return"".concat(t._imgBase,"/planets/").concat(a,".jpg")},this._transformPlanet=function(e){return{id:t._extractId(e.url),name:e.name,population:e.population,rotationPeriod:e.rotation_period,diameter:e.diameter}},this._transformStarsship=function(e){return{id:t._extractId(e.url),name:e.name,model:e.model,manufacturer:e.manufacturer,costInCredits:e.cost_in_credits,length:e.length,maxAtmospheringSpeed:e.max_atmosphering_speed,crew:e.crew,passengers:e.passengers,cargoCapacity:e.cargoCapacity,consumables:e.consumables,hyperdriveRating:e.hyperdrive_rating,MGLT:e.MGLT,starshipClass:e.starship_class}},this._transformPerson=function(e){return{id:t._extractId(e.url),name:e.name,height:e.height,mass:e.mass,hairColor:e.hair_color,skinColor:e.skin_color,gender:e.gender,birthYear:e.birth_year,eyeColor:e.eye_color}}}return Object(i.a)(e,[{key:"getResourse",value:function(e){var t;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.a.awrap(fetch(this._apiBase+e));case 2:if((t=a.sent).ok){a.next=5;break}throw new Error("Could not fetch ".concat(e," ,  received ").concat(t.status));case 5:return a.next=7,g.a.awrap(t.json());case 7:return a.abrupt("return",a.sent);case 8:case"end":return a.stop()}}),null,this)}},{key:"_extractId",value:function(e){return e.match(/\/([0-9]*)\/$/)[1]}}]),e}(),v=(a(40),function(){return r.a.createElement("div",{className:"lds-css ng-scope"},r.a.createElement("div",{className:"lds-double-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null))))}),b=(a(41),function(){return r.a.createElement("div",{className:"error-indicator"},r.a.createElement("span",{className:"boom"},"Boom"),r.a.createElement("span",null,"Somthing has gone wrong"),r.a.createElement("span",null,"(but we shoto robim)"))}),y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={planet:{},loading:!0,error:!1},a.swapiService=new E,a.onPlanetLoaded=function(e){a.setState({planet:e,loading:!1})},a.OnError=function(e){a.setState({error:!0,loading:!1})},a.updatePlanet=function(){var e=Math.floor(17*Math.random()+2);a.swapiService.getPlanet(e).then(a.onPlanetLoaded).catch(a.OnError)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.updateInterval;this.updatePlanet(),this.interval=setInterval(this.updatePlanet,e)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.planet,n=e.loading,l=!(n||t),s=t?r.a.createElement(b,null):null,c=n?r.a.createElement(v,null):null,i=l?r.a.createElement(w,{planet:a}):null;return r.a.createElement("div",{className:"random-planet bg-dark"},s,c,i)}}]),t}(n.Component);y.defaultProps={updateInterval:15e3};var w=function(e){var t=e.planet,a=t.population,n=t.name,l=t.diameter,s=t.rotationPeriod,c=t.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:"http://starwars-visualguide.com/assets/img/planets/".concat(c,".jpg"),alt:"",className:"img"}),r.a.createElement("div",{className:"planet-details"},r.a.createElement("h2",null,n),r.a.createElement("ul",{className:"details-list list-group"},r.a.createElement("li",{className:"details-list-item list-group-item"},r.a.createElement("span",{className:"term"},"Population: "),r.a.createElement("span",null,a)),r.a.createElement("li",{className:"details-list-item list-group-item"},r.a.createElement("span",{className:"term"},"Rotation Period: "),r.a.createElement("span",null,s)),r.a.createElement("li",{className:"details-list-item list-group-item"},r.a.createElement("span",{className:"term"},"Diameter: "),r.a.createElement("span",null,l)))))},N=y,S=(a(15),a(42),function(e){var t=e.left,a=e.rigth;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"row-left"},t),r.a.createElement("div",{className:"row-rigth"},a))}),j=(a(43),function(e){var t=e.item,a=e.field,n=e.label;return r.a.createElement("li",{className:"details-list-item list-group-item"},r.a.createElement("span",{className:"term"},n,": "),r.a.createElement("span",null,t[a]))}),P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).swapiService=new E,a.state={item:null,image:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.itemId!==e.itemId&&this.updatePerson()}},{key:"componentDidMount",value:function(){this.updatePerson()}},{key:"updatePerson",value:function(){var e=this,t=this.props,a=t.itemId,n=t.getData,r=t.getImgUrl;a&&n(a).then((function(t){e.setState({item:t,image:r(t)})}))}},{key:"render",value:function(){if(!this.state.item)return r.a.createElement("span",null,"Select person from list");var e=this.state,t=e.item.name,a=e.image,n=this.state.item;return r.a.createElement("div",{className:"person-details bg-dark"},r.a.createElement("img",{src:a,alt:"",className:"img"}),r.a.createElement("div",{className:"details-wrap"},r.a.createElement("h2",null,t),r.a.createElement("ul",{className:"details-list list-group"},r.a.Children.map(this.props.children,(function(e){return r.a.cloneElement(e,{item:n})})))))}}]),t}(n.Component),I=function(e){return function(t){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(o.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={data:null,loading:!0,error:!1},t}return Object(m.a)(a,t),Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.getData!==e.getData&&this.update()}},{key:"componentDidMount",value:function(){this.update()}},{key:"update",value:function(){var e=this;this.setState({loading:!0,error:!1}),this.props.getData().then((function(t){e.setState({data:t,loading:!1})})).catch((function(){e.setState({error:!0,loading:!1})}))}},{key:"render",value:function(){var t=this.state,a=t.data;return t.loading?r.a.createElement(v,null):r.a.createElement(e,Object.assign({},this.props,{data:a}))}}]),a}(n.Component)},O=r.a.createContext(),_=O.Provider,k=O.Consumer,x=function(e){return function(t){return function(a){return r.a.createElement(k,null,(function(n){var l=e(n);return r.a.createElement(t,Object.assign({},a,l))}))}}},C=function(e){return function(t){return function(a){return r.a.createElement(t,a,e)}}},D=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},A=x((function(e){return{getData:e.getPerson,getImgUrl:e.getPersonImg}}))((function(e){return r.a.createElement(P,e,r.a.createElement(j,{field:"height",label:"Height"}),r.a.createElement(j,{field:"mass",label:"Mass"}),r.a.createElement(j,{field:"hairColor",label:"Hair color"}),r.a.createElement(j,{field:"skinColor",label:"Skin color"}),r.a.createElement(j,{field:"eyeColor",label:"Eye color"}),r.a.createElement(j,{field:"birthYear",label:"Birth year"}),r.a.createElement(j,{field:"gender",label:"Gender"}))})),B=x((function(e){return{getData:e.getPlanet,getImgUrl:e.getPlanetImg}}))((function(e){return r.a.createElement(P,e,r.a.createElement(j,{field:"name",label:"Name"}),r.a.createElement(j,{field:"population",label:"Population"}),r.a.createElement(j,{field:"diameter",label:"Diameter"}))})),M=x((function(e){return{getData:e.getStarShip,getImgUrl:e.getStarShipImg}}))((function(e){return console.log(e),r.a.createElement(P,e,r.a.createElement(j,{field:"model",label:"Model"}),r.a.createElement(j,{field:"manufacturer",label:"Manufacturer"}),r.a.createElement(j,{field:"costInCredits",label:"Cost"}),r.a.createElement(j,{field:"length",label:"Length"}),r.a.createElement(j,{field:"maxAtmospheringSpeed",label:"max atmosphering speed"}),r.a.createElement(j,{field:"crew",label:"Crew"}),r.a.createElement(j,{field:"passengers",label:"Passengers"}),r.a.createElement(j,{field:"consumables",label:"Consumables"}),r.a.createElement(j,{field:"hyperdriveRating",label:"Hyperdrive rating"}),r.a.createElement(j,{field:"MGLT",label:"MGLT"}))})),R=(a(44),function(e){var t=e.data,a=e.onItemSelected,n=e.children,l=t.map((function(e){var t=e.id,l=n(e);return r.a.createElement("li",{className:"list-group-item",key:t,onClick:function(){return a(t)}},l)}));return r.a.createElement("ul",{className:"item-list list-group"},l)});R.defaultProps={onItemSelected:function(){}};var L=R,U=function(e){var t=e.name;return r.a.createElement("span",null,t)},H=D(x((function(e){return{getData:e.getAllPeople}})),I,C(U))(L),G=D(x((function(e){return{getData:e.getAllPlanets}})),I,C(U))(L),T=D(x((function(e){return{getData:e.getAllStarShips}})),I,C((function(e){var t=e.model,a=e.name;return r.a.createElement("span",null,a," (",t,")")})))(L),W=Object(d.e)((function(e){var t=e.history,a=e.match.params.id;return r.a.createElement("div",{className:"page-wrap"},r.a.createElement("h2",{className:"page-title"},"People "),r.a.createElement("p",{className:"page-inf"},"Here you can chose person from list and read information about him/her/it"),r.a.createElement(S,{left:r.a.createElement(A,{itemId:a}),rigth:r.a.createElement(H,{onItemSelected:function(e){t.push("/people/".concat(e))}})}))})),J=Object(d.e)((function(e){var t=e.history,a=e.match.params.id;return console.log(a),r.a.createElement("div",{className:"page-wrap"},r.a.createElement("h2",{className:"page-title"},"Starships "),r.a.createElement("p",{className:"page-inf"},"Here you can chose starship from list and read information about it"),r.a.createElement(S,{left:r.a.createElement(M,{itemId:a}),rigth:r.a.createElement(T,{onItemSelected:function(e){t.push("/starships/".concat(e))}})}))})),Y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={selectedItem:null},a.onItemSelected=function(e){a.setState({selectedItem:e})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"page-wrap"},r.a.createElement("h2",{className:"page-title"},"Planet"),r.a.createElement("p",{className:"page-inf"},"Here you can chose planet from list and read information about it"),r.a.createElement(S,{left:r.a.createElement(B,{itemId:this.state.selectedItem}),rigth:r.a.createElement(G,{onItemSelected:this.onItemSelected})}))}}]),t}(n.Component),F=function(){return r.a.createElement("div",{className:"page-wrap"},r.a.createElement("h2",{className:"page-title"},"Star DB "),r.a.createElement("p",{className:"page-inf"},"Start DB - project where you can found information about planets, people, starships from universe of Star Wars. We are using open sourse data base"," ",r.a.createElement("a",{href:"https://swapi.co/",target:"_blank"},"SWAPI")))},$=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).swapiService=new E,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(_,{value:this.swapiService},r.a.createElement(p.a,null,r.a.createElement("div",{className:"container"},r.a.createElement(f,null),r.a.createElement(N,null),r.a.createElement(d.a,{path:"/",exact:!0,component:F}),r.a.createElement(d.a,{path:"/people/:id?",component:W}),r.a.createElement(d.a,{path:"/planets/",component:Y}),r.a.createElement(d.a,{path:"/starships/:id?",component:J}))))}}]),t}(n.Component);s.a.render(r.a.createElement($,null),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.c0df859a.chunk.js.map